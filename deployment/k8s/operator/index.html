<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Chaos Toolkit"><meta name=author content="The Chaos Toolkit Team"><link href=https://chaostoolkit.org/deployment/k8s/operator/ rel=canonical><link href=../../../drivers/addons/ rel=prev><link href=../../../reference/developing/guidelines/ rel=next><link rel=icon href=../../../static/images/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.4.5"><title>Operator -</title><link rel=stylesheet href=../../../assets/stylesheets/main.6a10b989.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.356b1318.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../static/css/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-110478437-1"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","UA-110478437-1",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-110478437-1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=yellow> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#deploy-chaos-toolkit-as-a-kubernetes-operator class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title class="md-header__button md-logo" aria-label data-md-component=logo> <img src=../../../static/images/chaos-toolkit-full.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Operator </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/chaostoolkit/chaostoolkit title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> chaostoolkit </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../reference/usage/install/ class=md-tabs__link> Get Started </a> </li> <li class=md-tabs__item> <a href=../../../reference/tutorial/ class=md-tabs__link> Guides </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../reference/concepts/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../../reference/contributing/ class=md-tabs__link> Contribute </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title class="md-nav__button md-logo" aria-label data-md-component=logo> <img src=../../../static/images/chaos-toolkit-full.svg alt=logo> </a> </label> <div class=md-nav__source> <a href=https://github.com/chaostoolkit/chaostoolkit title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> chaostoolkit </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Get Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/usage/install/ class=md-nav__link> <span class=md-ellipsis> Install </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/upgrade/ class=md-nav__link> <span class=md-ellipsis> Upgrade </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex> <span class=md-ellipsis> CLI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/usage/cli/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/discover/ class=md-nav__link> <span class=md-ellipsis> Discover </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/init/ class=md-nav__link> <span class=md-ellipsis> Init </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/run/ class=md-nav__link> <span class=md-ellipsis> Run </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/report/ class=md-nav__link> <span class=md-ellipsis> Report </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/scheduling/ class=md-nav__link> <span class=md-ellipsis> Schedule </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Guides </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/tutorial/ class=md-nav__link> <span class=md-ellipsis> Get Started with the Chaos Toolkit </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/walkthrough/ class=md-nav__link> <span class=md-ellipsis> Chaos Toolkit Labs </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/tutorials/authoring_operating/ class=md-nav__link> <span class=md-ellipsis> Author and Operator </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/tutorials/run-flow/ class=md-nav__link> <span class=md-ellipsis> Understand the Execution Flow </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/tutorials/tolerance/ class=md-nav__link> <span class=md-ellipsis> Learn all about Steady-State Tolerances </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/tutorials/extend/ class=md-nav__link> <span class=md-ellipsis> An overview of extending the Chaos Toolkit </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/tutorials/blockchain/ class=md-nav__link> <span class=md-ellipsis> Experimenting against a blockchain </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/tutorials/containerising/ class=md-nav__link> <span class=md-ellipsis> Containerising Chaos Toolkit </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <label class=md-nav__link for=__nav_3_9 id=__nav_3_9_label tabindex> <span class=md-ellipsis> Running Chaos Toolkit in AWS </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> Running Chaos Toolkit in AWS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/tutorials/ec2/ class=md-nav__link> <span class=md-ellipsis> Running Chaos Toolkit from an EC2 instance </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/tutorials/batch/ class=md-nav__link> <span class=md-ellipsis> Running Chaos Toolkit experiments as AWS Batch Jobs </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/concepts/ class=md-nav__link> <span class=md-ellipsis> Concepts </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/api/experiment/ class=md-nav__link> <span class=md-ellipsis> Experiment </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/api/journal/ class=md-nav__link> <span class=md-ellipsis> Journal </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex> <span class=md-ellipsis> CLI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/usage/cli/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/discover/ class=md-nav__link> <span class=md-ellipsis> Discover </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/init/ class=md-nav__link> <span class=md-ellipsis> Init </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/run/ class=md-nav__link> <span class=md-ellipsis> Run </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/report/ class=md-nav__link> <span class=md-ellipsis> Report </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/usage/scheduling/ class=md-nav__link> <span class=md-ellipsis> Schedule </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex> <span class=md-ellipsis> Extensions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Extensions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_2> <label class=md-nav__link for=__nav_4_3_2 id=__nav_4_3_2_label tabindex=0> <span class=md-ellipsis> Infrastructure/Platform </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_2> <span class="md-nav__icon md-icon"></span> Infrastructure/Platform </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/aws/ class=md-nav__link> <span class=md-ellipsis> AWS </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/ansible/ class=md-nav__link> <span class=md-ellipsis> Ansible </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/azure/ class=md-nav__link> <span class=md-ellipsis> Azure </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/cloudfoundry/ class=md-nav__link> <span class=md-ellipsis> Cloud Foundry </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/gandi/ class=md-nav__link> <span class=md-ellipsis> Gandi </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/gcp/ class=md-nav__link> <span class=md-ellipsis> Google Cloud Platform </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/kubernetes/ class=md-nav__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/service-fabric/ class=md-nav__link> <span class=md-ellipsis> Service Fabric </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_3> <label class=md-nav__link for=__nav_4_3_3 id=__nav_4_3_3_label tabindex=0> <span class=md-ellipsis> Application </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_3> <span class="md-nav__icon md-icon"></span> Application </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/spring/ class=md-nav__link> <span class=md-ellipsis> Spring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_4> <label class=md-nav__link for=__nav_4_3_4 id=__nav_4_3_4_label tabindex=0> <span class=md-ellipsis> Network </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_4> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/toxiproxy/ class=md-nav__link> <span class=md-ellipsis> ToxiProxy </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/istio/ class=md-nav__link> <span class=md-ellipsis> Istio </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/wiremock/ class=md-nav__link> <span class=md-ellipsis> WireMock </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_5> <label class=md-nav__link for=__nav_4_3_5 id=__nav_4_3_5_label tabindex=0> <span class=md-ellipsis> Load Testing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_5> <span class="md-nav__icon md-icon"></span> Load Testing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/k6/ class=md-nav__link> <span class=md-ellipsis> k6 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_6> <label class=md-nav__link for=__nav_4_3_6 id=__nav_4_3_6_label tabindex=0> <span class=md-ellipsis> Notification </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_6> <span class="md-nav__icon md-icon"></span> Notification </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/slack/ class=md-nav__link> <span class=md-ellipsis> Slack </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_7> <label class=md-nav__link for=__nav_4_3_7 id=__nav_4_3_7_label tabindex=0> <span class=md-ellipsis> Observability </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_7> <span class="md-nav__icon md-icon"></span> Observability </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/datadog/ class=md-nav__link> <span class=md-ellipsis> DataDog </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/dynatrace/ class=md-nav__link> <span class=md-ellipsis> Dynatrace </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/grafana/ class=md-nav__link> <span class=md-ellipsis> Grafana </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/humio/ class=md-nav__link> <span class=md-ellipsis> Humio </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/opentracing/ class=md-nav__link> <span class=md-ellipsis> Open Tracing/OpenTelemetry </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/pixie/ class=md-nav__link> <span class=md-ellipsis> Pixie </span> </a> </li> <li class=md-nav__item> <a href=../../../drivers/prometheus/ class=md-nav__link> <span class=md-ellipsis> Prometheus </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_8> <label class=md-nav__link for=__nav_4_3_8 id=__nav_4_3_8_label tabindex=0> <span class=md-ellipsis> Reliability </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_8> <span class="md-nav__icon md-icon"></span> Reliability </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/reliably/ class=md-nav__link> <span class=md-ellipsis> Reliably </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_9> <label class=md-nav__link for=__nav_4_3_9 id=__nav_4_3_9_label tabindex=0> <span class=md-ellipsis> Addons </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_9> <span class="md-nav__icon md-icon"></span> Addons </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drivers/addons/ class=md-nav__link> <span class=md-ellipsis> Common </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4 checked> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_1 checked> <label class=md-nav__link for=__nav_4_4_1 id=__nav_4_4_1_label tabindex=0> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_1_label aria-expanded=true> <label class=md-nav__title for=__nav_4_4_1> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Operator </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Operator </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#deploy-the-operator class=md-nav__link> Deploy the operator </a> <nav class=md-nav aria-label="Deploy the operator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-the-operator-creates-deletes class=md-nav__link> What the operator creates &amp; deletes </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#options class=md-nav__link> Options </a> </li> <li class=md-nav__item> <a href=#run-an-experiment class=md-nav__link> Run an experiment </a> </li> <li class=md-nav__item> <a href=#manage-the-chaos-toolkit-experiments class=md-nav__link> Manage the Chaos Toolkit Experiments </a> <nav class=md-nav aria-label="Manage the Chaos Toolkit Experiments"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#list-and-inspect-experiments class=md-nav__link> List and inspect experiments </a> </li> <li class=md-nav__item> <a href=#delete-the-experiment-runs-resources class=md-nav__link> Delete the experiment run's resources </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#various-configurations class=md-nav__link> Various configurations </a> <nav class=md-nav aria-label="Various configurations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#make-the-operator-more-verbose class=md-nav__link> Make the operator more verbose </a> </li> <li class=md-nav__item> <a href=#configure-the-toolkit-with-environment-variables class=md-nav__link> Configure the toolkit with environment variables </a> </li> <li class=md-nav__item> <a href=#handle-multiple-experiment-files class=md-nav__link> Handle multiple experiment files </a> </li> <li class=md-nav__item> <a href=#use-the-experiment-in-yaml-format class=md-nav__link> Use the experiment in YAML format </a> </li> <li class=md-nav__item> <a href=#load-the-experiment-from-a-url class=md-nav__link> Load the experiment from a URL </a> </li> <li class=md-nav__item> <a href=#run-experiments-in-another-namespace class=md-nav__link> Run experiments in another namespace </a> </li> <li class=md-nav__item> <a href=#pass-chaos-toolkit-settings-as-a-kubernetes-secret class=md-nav__link> Pass Chaos Toolkit settings as a Kubernetes secret </a> </li> <li class=md-nav__item> <a href=#keep-generated-resources-even-when-the-cro-is-deleted class=md-nav__link> Keep generated resources even when the CRO is deleted </a> </li> <li class=md-nav__item> <a href=#pass-your-own-role-to-bind-to-the-service-account class=md-nav__link> Pass your own role to bind to the service account </a> </li> <li class=md-nav__item> <a href=#override-the-default-chaos-command-arguments class=md-nav__link> Override the default chaos command arguments </a> </li> <li class=md-nav__item> <a href=#label-your-chaos-toolkit-experiment class=md-nav__link> Label your Chaos Toolkit experiment </a> </li> <li class=md-nav__item> <a href=#allow-network-traffic-for-chaos-toolkit-experiments class=md-nav__link> Allow network traffic for Chaos Toolkit experiments </a> </li> <li class=md-nav__item> <a href=#run-periodic-and-recurring-experiments class=md-nav__link> Run periodic and recurring experiments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#run-an-experiment-with-specific-extensions class=md-nav__link> Run an experiment with specific extensions </a> </li> <li class=md-nav__item> <a href=#uninstall-the-operator class=md-nav__link> Uninstall the operator </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex> <span class=md-ellipsis> Develop </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Develop </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/developing/guidelines/ class=md-nav__link> <span class=md-ellipsis> Guidelines </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_2> <label class=md-nav__link for=__nav_4_5_2 id=__nav_4_5_2_label tabindex=0> <span class=md-ellipsis> Driver Extension </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_2> <span class="md-nav__icon md-icon"></span> Driver Extension </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/extending/approaches/ class=md-nav__link> <span class=md-ellipsis> Extension Approaches </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/extending/extending-with-python/ class=md-nav__link> <span class=md-ellipsis> Extend with Python </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_3> <label class=md-nav__link for=__nav_4_5_3 id=__nav_4_5_3_label tabindex=0> <span class=md-ellipsis> Control Extension </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_3> <span class="md-nav__icon md-icon"></span> Control Extension </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/extending/create-control-extension/ class=md-nav__link> <span class=md-ellipsis> Create Control </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Contribute </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Contribute </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing to the Chaos Toolkit </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex> <span class=md-ellipsis> Project Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Project Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/developing/values/ class=md-nav__link> <span class=md-ellipsis> Key Project Values </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/developing/core/ class=md-nav__link> <span class=md-ellipsis> Core Projects </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/developing/extensions/ class=md-nav__link> <span class=md-ellipsis> Extensions Projects </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/developing/technologies/ class=md-nav__link> <span class=md-ellipsis> Technology Choices </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex> <span class=md-ellipsis> Resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../resources/logos/ class=md-nav__link> <span class=md-ellipsis> Logos </span> </a> </li> <li class=md-nav__item> <a href=../../../resources/slides/ class=md-nav__link> <span class=md-ellipsis> Slides </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#deploy-the-operator class=md-nav__link> Deploy the operator </a> <nav class=md-nav aria-label="Deploy the operator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-the-operator-creates-deletes class=md-nav__link> What the operator creates &amp; deletes </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#options class=md-nav__link> Options </a> </li> <li class=md-nav__item> <a href=#run-an-experiment class=md-nav__link> Run an experiment </a> </li> <li class=md-nav__item> <a href=#manage-the-chaos-toolkit-experiments class=md-nav__link> Manage the Chaos Toolkit Experiments </a> <nav class=md-nav aria-label="Manage the Chaos Toolkit Experiments"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#list-and-inspect-experiments class=md-nav__link> List and inspect experiments </a> </li> <li class=md-nav__item> <a href=#delete-the-experiment-runs-resources class=md-nav__link> Delete the experiment run's resources </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#various-configurations class=md-nav__link> Various configurations </a> <nav class=md-nav aria-label="Various configurations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#make-the-operator-more-verbose class=md-nav__link> Make the operator more verbose </a> </li> <li class=md-nav__item> <a href=#configure-the-toolkit-with-environment-variables class=md-nav__link> Configure the toolkit with environment variables </a> </li> <li class=md-nav__item> <a href=#handle-multiple-experiment-files class=md-nav__link> Handle multiple experiment files </a> </li> <li class=md-nav__item> <a href=#use-the-experiment-in-yaml-format class=md-nav__link> Use the experiment in YAML format </a> </li> <li class=md-nav__item> <a href=#load-the-experiment-from-a-url class=md-nav__link> Load the experiment from a URL </a> </li> <li class=md-nav__item> <a href=#run-experiments-in-another-namespace class=md-nav__link> Run experiments in another namespace </a> </li> <li class=md-nav__item> <a href=#pass-chaos-toolkit-settings-as-a-kubernetes-secret class=md-nav__link> Pass Chaos Toolkit settings as a Kubernetes secret </a> </li> <li class=md-nav__item> <a href=#keep-generated-resources-even-when-the-cro-is-deleted class=md-nav__link> Keep generated resources even when the CRO is deleted </a> </li> <li class=md-nav__item> <a href=#pass-your-own-role-to-bind-to-the-service-account class=md-nav__link> Pass your own role to bind to the service account </a> </li> <li class=md-nav__item> <a href=#override-the-default-chaos-command-arguments class=md-nav__link> Override the default chaos command arguments </a> </li> <li class=md-nav__item> <a href=#label-your-chaos-toolkit-experiment class=md-nav__link> Label your Chaos Toolkit experiment </a> </li> <li class=md-nav__item> <a href=#allow-network-traffic-for-chaos-toolkit-experiments class=md-nav__link> Allow network traffic for Chaos Toolkit experiments </a> </li> <li class=md-nav__item> <a href=#run-periodic-and-recurring-experiments class=md-nav__link> Run periodic and recurring experiments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#run-an-experiment-with-specific-extensions class=md-nav__link> Run an experiment with specific extensions </a> </li> <li class=md-nav__item> <a href=#uninstall-the-operator class=md-nav__link> Uninstall the operator </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=deploy-chaos-toolkit-as-a-kubernetes-operator>Deploy Chaos Toolkit as a Kubernetes Operator<a class=headerlink href=#deploy-chaos-toolkit-as-a-kubernetes-operator title="Permanent link">&para;</a></h1> <p>Kubernetes operators are a popular approach to create bespoke controllers of any application on top of the Kubernetes API.</p> <p>The Chaos Toolkit operator listens for experiment declarations and triggers a new Kubernetes pod, running the Chaos Toolkit with the specified experiment.</p> <h2 id=deploy-the-operator>Deploy the operator<a class=headerlink href=#deploy-the-operator title="Permanent link">&para;</a></h2> <p>The <a href=https://github.com/chaostoolkit-incubator/kubernetes-crd>operator</a> can be found on the Chaos Toolkit incubator.</p> <p>It is deployed via typical Kubernetes <a href=https://github.com/chaostoolkit-incubator/kubernetes-crd/tree/master/manifests>manifests</a> which need to be applied via <a href=https://kustomize.io/ >Kustomize</a>, the native configuration manager.</p> <p>First, download the <a href=https://github.com/kubernetes-sigs/kustomize/blob/master/docs/INSTALL.md>Kustomize binary</a>:</p> <div class=highlight><pre><span></span><code><span class=go>curl -s &quot;https://raw.githubusercontent.com/kubernetes-sigs/kustomize/master/hack/install_kustomize.sh&quot; | bash</span>
</code></pre></div> <p>For macOS, you can also install it via the Homebrew package manager: </p> <div class=highlight><pre><span></span><code><span class=go>brew install kustomize</span>
</code></pre></div> <p>Next, simply run the following:</p> <div class=highlight><pre><span></span><code><span class=go>kustomize build manifests/overlays/generic-rbac | kubectl apply -f -</span>
</code></pre></div> <p>This will build the manifests and apply them on your current default cluster. Notice how we use the RBAC variant of the deployment. If you have other requirements (no-RBAC, pod security or network policies), then check the <a href=https://github.com/chaostoolkit-incubator/kubernetes-crd>operator&rsquo;s documentation</a> to deploy the appropriate variant.</p> <p>You can install another variant as follows:</p> <div class=highlight><pre><span></span><code><span class=go>kustomize build manifests/overlays/generic[-rbac[-podsec[-netsec]]] | kubectl apply -f -</span>
</code></pre></div> <p>By now, you should have the operator running in the <code>chaostoolkit-crd</code>.</p> <div class=highlight><pre><span></span><code><span class=go>kubectl -n chaostoolkit-crd get pods</span>
<span class=go>NAME                                READY   STATUS    RESTARTS   AGE</span>
<span class=go>chaostoolkit-crd-7ddb9b78d9-dgxx7   1/1     Running   0          35s</span>
</code></pre></div> <h3 id=what-the-operator-creates-deletes>What the operator creates &amp; deletes<a class=headerlink href=#what-the-operator-creates-deletes title="Permanent link">&para;</a></h3> <p>The operator deployment creates two namespaces, by default: - the <code>chaostoolkit-crd</code> namespace contains the operator pod and Chaos Toolkit experiment definitions - the <code>chaostoolkit-run</code> namespace contains pods running the Chaos Toolkit experiments</p> <p>When you apply an experiment object, the following other objects are created in the <code>chaostoolkit-run</code> namespace:</p> <ul> <li>a Service Account specific to the pod</li> <li>a Pod running the Chaos Toolkit based of the image you indicated</li> <li>a role and a binding with enough permissions to handle pods inside the <code>chaostoolkit-run</code> namespace itself</li> <li>a config map specific to that experiment with the experiment payload you gave</li> <li>a config mapo with environment variables specific to that experiment</li> </ul> <p>On top of that, if you setup a schedule, a cron job object is created too.</p> <p>In all cases, when you delete the experiment, all these objects are also deleted.</p> <h2 id=options>Options<a class=headerlink href=#options title="Permanent link">&para;</a></h2> <p>All the options are hanging under the <code>spec</code> element of the <code>ChaosToolkitExperiment</code> kind object.</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div> <p>None of these options are required.</p> <table> <thead> <tr> <th>Option Path</th> <th>Description</th> <th>Value Type</th> <th>Default Value</th> </tr> </thead> <tbody> <tr> <td><code>namespace:</code></td> <td>Namespace where to create the experiment objects</td> <td>string</td> <td><code>chaostoolkit-run</code></td> </tr> <tr> <td><code>serviceaccount:<br>&nbsp;&nbsp;name:</code></td> <td>Name of the service account to attach to the experiment pod</td> <td>string</td> <td><code>chaostoolkit</code></td> </tr> <tr> <td><code>role:<br>&nbsp;&nbsp;name:</code></td> <td>Name of the role to attach to the experiment pod</td> <td>string</td> <td><code>chaostoolkit-experiment</code></td> </tr> <tr> <td><code>role:<br>&nbsp;&nbsp;bind:</code></td> <td>Name of the rolebinding to attach to the experiment pod</td> <td>string</td> <td><code>chaostoolkit-experiment</code></td> </tr> <tr> <td><code>role:<br>&nbsp;&nbsp;binds_to_namespaces:</code></td> <td>List of namespaces to add the role and its binding to</td> <td>list[string]</td> <td><code>[]</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;configMapName:</code></td> <td>Name of the config map to attach to the experiment pod</td> <td>string</td> <td><code>chaostoolkit-env</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;image:</code></td> <td>Name of if the image to use for the pod</td> <td>string</td> <td><code>chaostoolkit/chaostoolkit:latest</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;env:<br>&nbsp;&nbsp;&nbsp;&nbsp;enabled:</code></td> <td>Do we mount environment variables from the config map into the pod?</td> <td>boolean</td> <td><code>true</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;env:<br>&nbsp;&nbsp;&nbsp;&nbsp;secretName:</code></td> <td>Mount the secrets values from this secret as environment variables</td> <td>string</td> <td><code>""</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;settings:<br>&nbsp;&nbsp;&nbsp;&nbsp;enabled:</code></td> <td>Should we mount settings as a file to the pod</td> <td>boolean</td> <td><code>false</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;settings:<br>&nbsp;&nbsp;&nbsp;&nbsp;secretName:</code></td> <td>Mount the given secret holding Chaos Toolkit settings as a file to the pod</td> <td>string</td> <td><code>chaostoolkit-settings</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;experiment:<br>&nbsp;&nbsp;&nbsp;&nbsp;asFile:</code></td> <td>Mount the experiment&rsquo;s payload as file (if <code>true</code>) or from a URL</td> <td>boolean</td> <td><code>true</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;experiment:<br>&nbsp;&nbsp;&nbsp;&nbsp;configMapName:</code></td> <td>Name of the config map holding the experiment&rsquo;s payload</td> <td>string</td> <td><code>chaostoolkit-experiment</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;experiment:<br>&nbsp;&nbsp;&nbsp;&nbsp;configMapExperimentFileName:</code></td> <td>Name of experiment file mounted into the container</td> <td>string</td> <td><code>experiment.json</code></td> </tr> <tr> <td><code>pod:<br>&nbsp;&nbsp;chaosArgs:</code></td> <td>Replace the default pod&rsquo;s arguments with these ones</td> <td>list[string]</td> <td><code>[]</code></td> </tr> <tr> <td><code>schedule:<br>&nbsp;&nbsp;kind:</code></td> <td>Cron kind (only CronJob supported)</td> <td>string</td> <td><code>cronjob</code></td> </tr> <tr> <td><code>schedule:<br>&nbsp;&nbsp;value:</code></td> <td>Cron-like <a href=https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/#cron-schedule-syntax>schedule syntax</a></td> <td>string</td> <td><code>""</code></td> </tr> </tbody> </table> <h2 id=run-an-experiment>Run an experiment<a class=headerlink href=#run-an-experiment title="Permanent link">&para;</a></h2> <p>Now that your controller is listening, you can ask it to schedule a Chaos Toolkit experiment by applying a resource with the following API:</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
</code></pre></div> <p>Below is a basic example, assuming a file named <code>basic.yaml</code>:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-experiment</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=nt>data</span><span class=p>:</span>
<span class=w>  </span><span class=nt>experiment.json</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>    </span><span class=no>{</span>
<span class=w>      </span><span class=no>&quot;title&quot;: &quot;Hello world!&quot;,</span>
<span class=w>      </span><span class=no>&quot;description&quot;: &quot;Say hello world.&quot;,</span>
<span class=w>      </span><span class=no>&quot;method&quot;: [</span>
<span class=w>        </span><span class=no>{</span>
<span class=w>          </span><span class=no>&quot;type&quot;: &quot;action&quot;,</span>
<span class=w>          </span><span class=no>&quot;name&quot;: &quot;say-hello&quot;,</span>
<span class=w>          </span><span class=no>&quot;provider&quot;: {</span>
<span class=w>            </span><span class=no>&quot;type&quot;: &quot;process&quot;,</span>
<span class=w>            </span><span class=no>&quot;path&quot;: &quot;echo&quot;,</span>
<span class=w>            </span><span class=no>&quot;arguments&quot;: &quot;hello&quot;</span>
<span class=w>          </span><span class=no>}</span>
<span class=w>        </span><span class=no>}</span>
<span class=w>      </span><span class=no>]</span>
<span class=w>    </span><span class=no>}</span>
<span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
</code></pre></div> <p>First, we will use the default namespace in which the Chaos Toolkit will run.</p> <p>Then, we need a config map to pass the experiment to execute.</p> <p>Finally, we simply create a <code>ChaosToolkitExperiment</code> object that the controller picks up and understand as a new experiment to run in its own pod.</p> <p>Apply it as follows:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl apply -f basic.yaml</span>
</code></pre></div> <p>Then, you can check the Chaos Toolkit experiment has been registered, and will be scheduled to run as soon as possible:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl -n chaostoolkit-crd get ctks</span>
</code></pre></div> <p>Look at the Chaos Toolkit running:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl -n chaostoolkit-run get pods</span>
</code></pre></div> <p>The status of the experiment&rsquo;s run, if it deviated, defines the status if the pod. So, when the experiment does deviate, the pod should have a status set to <code>Error</code>. Otherwise, the status will be <code>Completed</code>.</p> <h2 id=manage-the-chaos-toolkit-experiments>Manage the Chaos Toolkit Experiments<a class=headerlink href=#manage-the-chaos-toolkit-experiments title="Permanent link">&para;</a></h2> <h3 id=list-and-inspect-experiments>List and inspect experiments<a class=headerlink href=#list-and-inspect-experiments title="Permanent link">&para;</a></h3> <p>You can list your experiments as follows:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl -n chaostoolkit-crd get chaosexperiments </span>
</code></pre></div> <p>You can describe one experiment as follows:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl -n chaostoolkit-crd describe chaosexperiment my-chaos-exp </span>
</code></pre></div> <p>You can also use the short names for the custom resource <code>ctks</code> and <code>ctk</code>.</p> <h3 id=delete-the-experiment-runs-resources>Delete the experiment run&rsquo;s resources<a class=headerlink href=#delete-the-experiment-runs-resources title="Permanent link">&para;</a></h3> <p>You can delete an experiment and its related resources as follows:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl -n chaostoolkit-crd delete ctk my-chaos-exp </span>
</code></pre></div> <p>However, the custom resources (ConfigMap, Secrets, etc.) won&rsquo;t be deleted. This command only deletes the resources that the operator creates for the experiment to be able to run.</p> <p>To delete all the run&rsquo;s resources, simply delete the objects as follows:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl delete -f basic.yaml</span>
</code></pre></div> <h2 id=various-configurations>Various configurations<a class=headerlink href=#various-configurations title="Permanent link">&para;</a></h2> <p>You may decide to change various aspects of the final pod (such as passing settings as secrets, changing the roles allowed to the pod, even override the entire pod template).</p> <h3 id=make-the-operator-more-verbose>Make the operator more verbose<a class=headerlink href=#make-the-operator-more-verbose title="Permanent link">&para;</a></h3> <p>By default, the operator logs at INFO level. To enable the DEBUG level, you need to change the operator&rsquo;s deployment command:</p> <p>In the file <code>manifests/base/common/deployment.yaml</code>:</p> <p>Change:</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">crd</span>
<span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit/k8scrd:latest</span>
<span class=w>    </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Always</span>
</code></pre></div> <p>to:</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">crd</span>
<span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit/k8scrd:latest</span>
<span class=w>    </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Always</span>
<span class=w>    </span><span class=nt>command</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">kopf</span>
<span class=w>    </span><span class=nt>args</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">run</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">--verbose</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">--namespace</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">controller.py</span>
</code></pre></div> <p>Then re-deploy using Kustomize.</p> <h3 id=configure-the-toolkit-with-environment-variables>Configure the toolkit with environment variables<a class=headerlink href=#configure-the-toolkit-with-environment-variables title="Permanent link">&para;</a></h3> <p>Chaos Toolkit experiments often expect data to be passed as environment variables of the <code>chaos</code>&rsquo;s command shell.</p> <p>The operator allows you to specify those values through the config map:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-env</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=nt>data</span><span class=p>:</span>
<span class=w>  </span><span class=nt>NAME</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Jane</span><span class=nv> </span><span class=s>Doe&quot;</span>
</code></pre></div> <p>They will be injected into the Chaos Toolkit&rsquo;s pod as environment variables.</p> <p>You might need several environment config maps for various experiments. You can tell the operator where to find the config map to be loaded as environment variables.</p> <p>We&rsquo;ll assume you defined another config map named <code>my-chaos-env-vars</code>. You can use it by setting the <code>configMapName</code> in the <code>env</code> block of the pod spec: </p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>env</span><span class=p>:</span>
<span class=w>      </span><span class=nt>configMapName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-env-vars</span>
</code></pre></div> <p>You can disable loading environment variables into the pod by using the <code>enabled</code> property:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>env</span><span class=p>:</span>
<span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div> <p>Plain text environment variables might not be secure enough in some use cases, such as database user name &amp; passord, API keys, tokens, etc. You can define multiple encrypted key-value pairs in a Kubernetes secret and load them as environment variables. To to so, you shall indicate the name of the secret with the <code>secretName</code> property.</p> <p>Assuming you created a generic secret named <code>chaostoolkit-secrets</code>, you can load the values as shown below:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>env</span><span class=p>:</span>
<span class=w>      </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-secrets</span>
</code></pre></div> <p>All the key-value pairs from the secret will be injected into the Chaos Toolkit&rsquo;s pod as environment variables.</p> <h3 id=handle-multiple-experiment-files>Handle multiple experiment files<a class=headerlink href=#handle-multiple-experiment-files title="Permanent link">&para;</a></h3> <p>In the basic example, the name of the config map holding the experiment is the default value <code>chaostoolkit-experiment</code>. Usually, you&rsquo;ll want a more unique name since you&rsquo;ll probably run multiple experiments from the <code>chaostoolkit-run</code> namespace.</p> <p>In that case, do it as follows:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-experiment-1234</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=nt>data</span><span class=p>:</span>
<span class=w>  </span><span class=nt>experiment.json</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>    </span><span class=no>{</span>
<span class=w>        </span><span class=no>&quot;title&quot;: &quot;...&quot;,</span>
<span class=w>    </span><span class=no>}</span>
<span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>experiment</span><span class=p>:</span>
<span class=w>      </span><span class=nt>configMapName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-experiment-1234</span>
</code></pre></div> <p>You need to define the <code>configMapName</code> in the <code>experiment</code> block of the pod spec. </p> <h3 id=use-the-experiment-in-yaml-format>Use the experiment in YAML format<a class=headerlink href=#use-the-experiment-in-yaml-format title="Permanent link">&para;</a></h3> <p>If your experiments are encoded using YAML, you can set it as follows:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-experiment-1234</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=nt>data</span><span class=p>:</span>
<span class=w>  </span><span class=nt>experiment.yaml</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>    </span><span class=no>---</span>
<span class=w>    </span><span class=no>title: &quot;...&quot;</span>
<span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>experiment</span><span class=p>:</span>
<span class=w>      </span><span class=nt>configMapName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-experiment-1234</span>
<span class=w>      </span><span class=nt>configMapExperimentFileName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">experiment.yaml</span>
</code></pre></div> <h3 id=load-the-experiment-from-a-url>Load the experiment from a URL<a class=headerlink href=#load-the-experiment-from-a-url title="Permanent link">&para;</a></h3> <p>By default, the experiment is read from a file. But you may store it remotely e.g. GitHub and have it available over HTTP. You might want to load it from its remote URL instead.</p> <p>You can tell the Chaos Toolkit to load it from a remote URL rather than from a local file, as follows:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-env</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=nt>data</span><span class=p>:</span>
<span class=w>  </span><span class=nt>EXPERIMENT_URL</span><span class=p>:</span><span class=w> </span><span class=s>&quot;https://example.com/experiment.json&quot;</span>
<span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>experiment</span><span class=p>:</span>
<span class=w>      </span><span class=nt>asFile</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div> <p>First, you need to pass the <code>EXPERIMENT_URL</code> environment variable.</p> <p>Then, tell the operator not to mount the default experiment volume. To do so, you need to set <code>asFile</code> to <code>false</code> in the <code>experiment</code> block of the pod spec.</p> <h3 id=run-experiments-in-another-namespace>Run experiments in another namespace<a class=headerlink href=#run-experiments-in-another-namespace title="Permanent link">&para;</a></h3> <p>You may create the namespace in which the resources will be deployed:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-other-namespace</span>
</code></pre></div> <p>You need to defined the <code>namespace</code> value at the spec level.</p> <p>If the namespace already exists, a message will be logged but this will not abort the operation.</p> <p>However, this namespace will be entirely under your responsibility. No network nor pod securities will be managed in your namespace, if the operator was installed with those variants. You&rsquo;ll need to manage them yourself. </p> <h3 id=pass-chaos-toolkit-settings-as-a-kubernetes-secret>Pass Chaos Toolkit settings as a Kubernetes secret<a class=headerlink href=#pass-chaos-toolkit-settings-as-a-kubernetes-secret title="Permanent link">&para;</a></h3> <p>Chaos Toolkit reads its settings from a file and you can pass yours by creating a Kubernetes secret named, by default, <code>chaostoolkit-settings</code>.</p> <p>For instance, assuming you have a Chaos Toolkit settings file, you can create a secret from it as follows:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl -n chaostoolkit-run \</span>
<span class=go>    create secret generic chaostoolkit-settings \</span>
<span class=go>    --from-file=settings.yaml=./settings.yaml</span>
</code></pre></div> <p>Note, the settings file must be named as <code>settings.yaml</code> within the secret.</p> <p>Reading settings is disabled by default, so you need to let the operator know it should allow it for that run:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>settings</span><span class=p>:</span>
<span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div> <p>You need to set the variable <code>enabled</code> to <code>true</code>in the <code>settings</code> block of the pod spec.</p> <p>The default name for that secret is <code>chaostoolkit-settings</code> but you can change it with the <code>secretName</code> variable, as follows:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>settings</span><span class=p>:</span>
<span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>      </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-super-secret</span>
</code></pre></div> <h3 id=keep-generated-resources-even-when-the-cro-is-deleted>Keep generated resources even when the CRO is deleted<a class=headerlink href=#keep-generated-resources-even-when-the-cro-is-deleted title="Permanent link">&para;</a></h3> <p>When you delete the <code>ChaosToolkitExperiment</code> resource, all the allocated resources are deleted too (pod, service account, &hellip;). To prevent this, you may set the <code>keep_resources_on_delete</code> property to <code>true</code> at the spec level. </p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=w>  </span><span class=nt>keep_resources_on_delete</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div> <p>In that case, you are responsible to cleanup all resources.</p> <h3 id=pass-your-own-role-to-bind-to-the-service-account>Pass your own role to bind to the service account<a class=headerlink href=#pass-your-own-role-to-bind-to-the-service-account title="Permanent link">&para;</a></h3> <p>If your cluster has enabled RBAC, then the operator automatically binds a basic role to the service account associated with the chaostoolkit pod. That role allows your experiment to create/get/list/delete other pods in the same namespace.</p> <p>You probably have more specific requirements, here is how to do it:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=w>  </span><span class=nt>role</span><span class=p>:</span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-role</span>
</code></pre></div> <p>The property <code>name</code> should be set to the name of the role you have created in the namespace which the experiment is executed in. The service account associated with the pod will be bound to that role.</p> <h3 id=override-the-default-chaos-command-arguments>Override the default chaos command arguments<a class=headerlink href=#override-the-default-chaos-command-arguments title="Permanent link">&para;</a></h3> <p>The pod template executes the <code>chaos run</code> command by default. You may want to extends or change the sub-command to execute when running the pod. You can define the <code>chaos</code> arguments as follow:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>chaosArgs</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">--verbose</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">run</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">--dry</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">$(EXPERIMENT_PATH)</span>
</code></pre></div> <p>You need to set the list of arguments in the <code>chaosArgs</code> variable at pod spec level.</p> <h3 id=label-your-chaos-toolkit-experiment>Label your Chaos Toolkit experiment<a class=headerlink href=#label-your-chaos-toolkit-experiment title="Permanent link">&para;</a></h3> <p>Experiment labels can be defined in the <code>ChaosToolkitExperiment</code>&rsquo;s metadata. All labels will be forwarded, if not already defined, in the pod running the experiment.</p> <p>You can define labels as follow:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">staging</span>
<span class=w>    </span><span class=nt>tier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">backend</span>
<span class=w>    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">database</span>
</code></pre></div> <p>These labels can then be used as selectors.</p> <h3 id=allow-network-traffic-for-chaos-toolkit-experiments>Allow network traffic for Chaos Toolkit experiments<a class=headerlink href=#allow-network-traffic-for-chaos-toolkit-experiments title="Permanent link">&para;</a></h3> <p>When the operator is installed with the network security variant, the <code>chaostoolkit</code> pod has limited network access. The pod is, by default, isolated for ingress connectivity and is limited to only DNS lookup &amp; HTTPS for external traffic.</p> <p>To allow the pod for other access, you may create another network policy within the <code>chaostoolkit-run</code> namespace for pods matching the <code>app: chaostoolkit</code> label:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-custom-network-policy</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>podSelector</span><span class=p>:</span>
<span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit</span>
</code></pre></div> <h3 id=run-periodic-and-recurring-experiments>Run periodic and recurring experiments<a class=headerlink href=#run-periodic-and-recurring-experiments title="Permanent link">&para;</a></h3> <p>The operator supports <code>crontab</code> schedule for running Chaos Toolkit experiments periodically on a given schedule.</p> <p>To do so, you can define a <code>.spec.schedule</code> section, as follow:</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=w>  </span><span class=nt>schedule</span><span class=p>:</span>
<span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cronJob</span>
<span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;*/1</span><span class=nv> </span><span class=s>*</span><span class=nv> </span><span class=s>*</span><span class=nv> </span><span class=s>*</span><span class=nv> </span><span class=s>*&quot;</span>
</code></pre></div> <p>This example runs a Chaos Toolkit experiment every minute.</p> <p>You can list your scheduled experiments with the kubernetes&rsquo; <code>cronjob</code> resource:</p> <div class=highlight><pre><span></span><code><span class=go>kubectl -n chaostoolkit-run get cronjobs</span>
</code></pre></div> <h2 id=run-an-experiment-with-specific-extensions>Run an experiment with specific extensions<a class=headerlink href=#run-an-experiment-with-specific-extensions title="Permanent link">&para;</a></h2> <p>The default container image used by the operator is the official <a href=https://raw.githubusercontent.com/chaostoolkit/chaostoolkit/master/Dockerfile>Chaos Toolkit image</a> which embeds no <a href=../../../drivers/overview/ >Chaos Toolkit extensions</a>.</p> <p>This means that you will likely need to create your bespoke container image. For instance, to install the Chaos Toolkit Kubernetes extension, create a Dockerfile like this:</p> <div class=highlight><pre><span></span><code><span class=k>FROM</span><span class=w> </span><span class=s>chaostoolkit/chaostoolkit</span>

<span class=k>USER</span><span class=w> </span><span class=s>root</span>
<span class=k>RUN</span><span class=w> </span>apk<span class=w> </span>update<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<span class=w>    </span>apk<span class=w> </span>add<span class=w> </span>--virtual<span class=w> </span>build-deps<span class=w> </span>libffi-dev<span class=w> </span>openssl-dev<span class=w> </span>gcc<span class=w> </span>python3-dev<span class=w> </span><span class=se>\</span>
<span class=w>        </span>musl-dev<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<span class=w>    </span>pip<span class=w> </span>install<span class=w> </span>--no-cache-dir<span class=w> </span>chaostoolkit-addons<span class=w> </span>chaostoolkit-reliably<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=se>\</span>
<span class=w>    </span>apk<span class=w> </span>del<span class=w> </span>build-deps
<span class=k>USER</span><span class=w> </span><span class=s>1001</span>
</code></pre></div> <p>Then create the image with docker:</p> <div class=highlight><pre><span></span><code><span class=go>docker build --tag my/chaostoolkit -f ./Dockerfile .</span>
</code></pre></div> <p>or, something such as <a href=https://podman.io/ >Podman</a>:</p> <div class=highlight><pre><span></span><code><span class=go>podman build --tag my/chaostoolkit -f ./Dockerfile</span>
</code></pre></div> <p>You can check your image contains the installed extensions as follows:</p> <div class=highlight><pre><span></span><code><span class=go>docker run --rm -it my/chaostoolkit info extensions</span>
</code></pre></div> <p>Once this image is pushed to any registry you can access, you need to let the operator know it must use it.</p> <div class=highlight><pre><span></span><code><span class=nn>---</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit.org/v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ChaosToolkitExperiment</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-chaos-exp</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-crd</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chaostoolkit-run</span>
<span class=w>  </span><span class=nt>pod</span><span class=p>:</span>
<span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my/chaostoolkit</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Note that the first time the job will create a pod will be at the end of the first period.</p> </div> <h2 id=uninstall-the-operator>Uninstall the operator<a class=headerlink href=#uninstall-the-operator title="Permanent link">&para;</a></h2> <p>To uninstall the operator and its own resources, simply run the following command for the overlay that is deployed.</p> <div class=highlight><pre><span></span><code><span class=go>kustomize build manifests/overlays/generic[-rbac[-podsec[-netsec]]] | kubectl delete -f -</span>
</code></pre></div> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2017-2023 Chaos Toolkit team </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/chaostoolkit target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/chaostoolkit target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://join.slack.com/t/chaostoolkit/shared_invite/zt-22c5isqi9-3YjYzucVTNFFVIG~Kzns8g target=_blank rel=noopener title=join.slack.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> <a href=https://medium.com/chaos-toolkit target=_blank rel=noopener title=medium.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M180.5 74.262C80.813 74.262 0 155.633 0 256s80.819 181.738 180.5 181.738S361 356.373 361 256 280.191 74.262 180.5 74.262Zm288.25 10.646c-49.845 0-90.245 76.619-90.245 171.095s40.406 171.1 90.251 171.1 90.251-76.619 90.251-171.1H559c0-94.503-40.4-171.095-90.248-171.095Zm139.506 17.821c-17.526 0-31.735 68.628-31.735 153.274s14.2 153.274 31.735 153.274S640 340.631 640 256c0-84.649-14.215-153.271-31.742-153.271Z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.suggest"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.aecac24b.min.js></script> </body> </html>