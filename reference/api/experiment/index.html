



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Chaos Toolkit">
      
      
      
        <meta name="author" content="The chaostoolkit Team">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.3">
    
    
      
        <title>Experiment - Chaos Toolkit</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.9b572555.css">
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#an-open-api-for-chaos-engineering-experiments" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="Chaos Toolkit" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Chaos Toolkit
              </span>
              <span class="md-header-nav__topic">
                Experiment
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/chaostoolkit/chaostoolkit/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      chaostoolkit
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Chaos Toolkit
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/chaostoolkit/chaostoolkit/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      chaostoolkit
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../new-to-chaos/" title="New to Chaos Engineering" class="md-nav__link">
      New to Chaos Engineering
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../getting-started/" title="Getting Started with the Tutorials" class="md-nav__link">
      Getting Started with the Tutorials
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../explore-specific-cases/" title="Explore Specific Use Cases" class="md-nav__link">
      Explore Specific Use Cases
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../integrations/" title="Explore Third Party and Commercial Integrations" class="md-nav__link">
      Explore Third Party and Commercial Integrations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../contributing/" title="Contributing to the Chaos Toolkit" class="md-nav__link">
      Contributing to the Chaos Toolkit
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../contributors/" title="Contributors & Sponsors" class="md-nav__link">
      Contributors & Sponsors
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workflow/" title="The Chaos Toolkit Workflow" class="md-nav__link">
      The Chaos Toolkit Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-4" type="checkbox" id="nav-9-4">
    
    <label class="md-nav__link" for="nav-9-4">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-4">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/install/" title="Install" class="md-nav__link">
      Install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/upgrade/" title="Upgrade" class="md-nav__link">
      Upgrade
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/cli/" title="The CLI" class="md-nav__link">
      The CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/discover/" title="Discover" class="md-nav__link">
      Discover
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/init/" title="Init" class="md-nav__link">
      Init
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/run/" title="Run" class="md-nav__link">
      Run
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/report/" title="Report" class="md-nav__link">
      Report
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/notification/" title="Notification" class="md-nav__link">
      Notification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/investigating/" title="Investigating" class="md-nav__link">
      Investigating
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-5" type="checkbox" id="nav-9-5" checked>
    
    <label class="md-nav__link" for="nav-9-5">
      Open API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-5">
        Open API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Experiment
      </label>
    
    <a href="./" title="Experiment" class="md-nav__link md-nav__link--active">
      Experiment
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-used-in-this-document" title="Conventions Used in This Document" class="md-nav__link">
    Conventions Used in This Document
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chaos-engineering-elements" title="Chaos Engineering Elements" class="md-nav__link">
    Chaos Engineering Elements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment" title="Experiment" class="md-nav__link">
    Experiment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steady-state-hypothesis" title="Steady State Hypothesis" class="md-nav__link">
    Steady State Hypothesis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#steady-state-probe-tolerance" title="Steady State Probe Tolerance" class="md-nav__link">
    Steady State Probe Tolerance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method" title="Method" class="md-nav__link">
    Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probe" title="Probe" class="md-nav__link">
    Probe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action" title="Action" class="md-nav__link">
    Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-or-probe-provider" title="Action or Probe Provider" class="md-nav__link">
    Action or Probe Provider
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-provider" title="Python Provider" class="md-nav__link">
    Python Provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-provider" title="HTTP Provider" class="md-nav__link">
    HTTP Provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-provider" title="Process Provider" class="md-nav__link">
    Process Provider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rollbacks" title="Rollbacks" class="md-nav__link">
    Rollbacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets" title="Secrets" class="md-nav__link">
    Secrets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inline-secrets" title="Inline Secrets" class="md-nav__link">
    Inline Secrets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-secrets" title="Environment Secrets" class="md-nav__link">
    Environment Secrets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vault-secrets" title="Vault Secrets" class="md-nav__link">
    Vault Secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inline-configurations" title="Inline Configurations" class="md-nav__link">
    Inline Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-configurations" title="Environment Configurations" class="md-nav__link">
    Environment Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-substitution" title="Variable Substitution" class="md-nav__link">
    Variable Substitution
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minimal-experiment" title="Minimal Experiment" class="md-nav__link">
    Minimal Experiment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../journal/" title="Journal" class="md-nav__link">
      Journal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-6" type="checkbox" id="nav-9-6">
    
    <label class="md-nav__link" for="nav-9-6">
      Extending Chaos Toolkit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-6">
        Extending Chaos Toolkit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../extending/approaches/" title="Extension Approaches" class="md-nav__link">
      Extension Approaches
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../extending/extending-with-python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-7" type="checkbox" id="nav-9-7">
    
    <label class="md-nav__link" for="nav-9-7">
      Developing Chaos Toolkit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-7">
        Developing Chaos Toolkit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../developing/values/" title="Key Project Values" class="md-nav__link">
      Key Project Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developing/core/" title="Core Projects" class="md-nav__link">
      Core Projects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developing/extensions/" title="Extensions" class="md-nav__link">
      Extensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developing/technologies/" title="Technology Choices" class="md-nav__link">
      Technology Choices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developing/guidelines/" title="Guidelines" class="md-nav__link">
      Guidelines
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-used-in-this-document" title="Conventions Used in This Document" class="md-nav__link">
    Conventions Used in This Document
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chaos-engineering-elements" title="Chaos Engineering Elements" class="md-nav__link">
    Chaos Engineering Elements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment" title="Experiment" class="md-nav__link">
    Experiment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steady-state-hypothesis" title="Steady State Hypothesis" class="md-nav__link">
    Steady State Hypothesis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#steady-state-probe-tolerance" title="Steady State Probe Tolerance" class="md-nav__link">
    Steady State Probe Tolerance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method" title="Method" class="md-nav__link">
    Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probe" title="Probe" class="md-nav__link">
    Probe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action" title="Action" class="md-nav__link">
    Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-or-probe-provider" title="Action or Probe Provider" class="md-nav__link">
    Action or Probe Provider
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-provider" title="Python Provider" class="md-nav__link">
    Python Provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-provider" title="HTTP Provider" class="md-nav__link">
    HTTP Provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-provider" title="Process Provider" class="md-nav__link">
    Process Provider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rollbacks" title="Rollbacks" class="md-nav__link">
    Rollbacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets" title="Secrets" class="md-nav__link">
    Secrets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inline-secrets" title="Inline Secrets" class="md-nav__link">
    Inline Secrets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-secrets" title="Environment Secrets" class="md-nav__link">
    Environment Secrets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vault-secrets" title="Vault Secrets" class="md-nav__link">
    Vault Secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inline-configurations" title="Inline Configurations" class="md-nav__link">
    Inline Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-configurations" title="Environment Configurations" class="md-nav__link">
    Environment Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-substitution" title="Variable Substitution" class="md-nav__link">
    Variable Substitution
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minimal-experiment" title="Minimal Experiment" class="md-nav__link">
    Minimal Experiment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/chaostoolkit/chaostoolkit/edit/master/docs/reference/api/experiment.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="an-open-api-for-chaos-engineering-experiments">An Open API for Chaos Engineering Experiments<a class="headerlink" href="#an-open-api-for-chaos-engineering-experiments" title="Permanent link">&para;</a></h1>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The current specification has not reached its 1.0.0 stable version yet. Make
sure to <a href="https://join.chaostoolkit.org/">join the discussion</a> to provide any feedback you might have.</p>
</div>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>The purpose of this specification is to formalize the elements of a Chaos
Engineering experiment and offer a way to federate the community around a
common syntax and semantic.</p>
<p>As a fairly recent field, Chaos Engineering is a dynamic and its foundations
are still emerging. However, it appears certain concepts are settling down
enough to start agreeing on a shared understanding.</p>
<p>This specification is not prescriptive and does not aim at forcing the
community into one direction, rather it strives at providing a common
vocabulary that new practicionners can easily make sense of.</p>
<p>It is necessary to appreciate that this document does not specify what tools,
such as the Chaos Monkey or similar, should look like. Instead, this document
specifies how Chaos Engineering Experiment could be described, shared and
conducted collaboratively.</p>
<h2 id="conventions-used-in-this-document">Conventions Used in This Document<a class="headerlink" href="#conventions-used-in-this-document" title="Permanent link">&para;</a></h2>
<p>The key words &ldquo;MUST&rdquo;, &ldquo;MUST NOT&rdquo;, &ldquo;REQUIRED&rdquo;, &ldquo;SHALL&rdquo;, &ldquo;SHALL NOT&rdquo;,
&ldquo;SHOULD&rdquo;, &ldquo;SHOULD NOT&rdquo;, &ldquo;RECOMMENDED&rdquo;, &ldquo;MAY&rdquo;, and &ldquo;OPTIONAL&rdquo; in this
document are to be interpreted as described in <a href="https://tools.ietf.org/html/rfc2119">RFC 2119</a>.</p>
<p>The terms &ldquo;JSON&rdquo;, &ldquo;JSON text&rdquo;, &ldquo;JSON value&rdquo;, &ldquo;member&rdquo;, &ldquo;element&rdquo;, &ldquo;object&rdquo;,
&ldquo;array&rdquo;, &ldquo;number&rdquo;, &ldquo;string&rdquo;, &ldquo;boolean&rdquo;, &ldquo;true&rdquo;, &ldquo;false&rdquo;, and &ldquo;null&rdquo; in this
document are to be interpreted as defined in <a href="https://tools.ietf.org/html/rfc7159">RFC 7159</a>.</p>
<h2 id="chaos-engineering-elements">Chaos Engineering Elements<a class="headerlink" href="#chaos-engineering-elements" title="Permanent link">&para;</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>An Experiment is one possible description of the
<a href="http://principlesofchaos.org/">principles of the Chaos Engineering</a>. The intention of such a
description is to provide shared understanding around a hypothesis on how
to discover system&rsquo;s behavior under certain conditions.</p>
<p>An <a href="#experiment">Experiment</a> declares a steady <a href="#steady-state-hypothesis">state hypothesis</a>, alongside
<a href="#probe">probes</a> to validate this steady state is met, and a <a href="#method">method</a> as a
sequence <a href="#action">actions</a> and <a href="#probe">probes</a>, to interact and query the system
respectively.</p>
<p>By using a variety of <a href="#probe">probes</a>, experiments should gather information to
sense behaviors in the system, potentially leading to systemic patterns that can
be stabilized.</p>
<h3 id="experiment">Experiment<a class="headerlink" href="#experiment" title="Permanent link">&para;</a></h3>
<p>A Chaos Engineering experiment, or simply an experiment, describes both the
elements and the order in which they should be applied.</p>
<p>An experiment is a JSON object.</p>
<p>An experiment MUST declare:</p>
<ul>
<li>a <code>version</code> property</li>
<li>a <code>title</code> property</li>
<li>a <code>description</code> property</li>
<li>a <code>steady-state-hypothesis</code> property</li>
<li>a <code>method</code> property</li>
</ul>
<p>The <code>version</code> property MUST be <code>&quot;0.1.0&quot;</code>.</p>
<p>The experiment&rsquo;s <code>title</code> and <code>description</code> are meant for humans and therefore
should be as descriptive as possible to clarify the experiment&rsquo;s rationale.</p>
<p>Title and description are JSON strings with no maximum length.</p>
<p>An experiment SHOULD also declare:</p>
<ul>
<li>a <code>rollbacks</code> property</li>
</ul>
<p>An experiment MAY finally declare:</p>
<ul>
<li>a <code>tags</code> property</li>
<li>a <code>secrets</code> property</li>
</ul>
<p>Tags provide a way of categorizing experiments. It is a sequence of JSON
strings.</p>
<h3 id="steady-state-hypothesis">Steady State Hypothesis<a class="headerlink" href="#steady-state-hypothesis" title="Permanent link">&para;</a></h3>
<p>The Steady State Hypothesis element describes what normal looks like in your
system before the Method element is applied. If the steady state is not met,
the Method element is not applied and the experiment MUST bail out.</p>
<p>The Steady State Hypothesis element is a JSON object.</p>
<p>Steady State Hypothesis element MUST declare:</p>
<ul>
<li>a <code>title</code> property</li>
<li>a <code>probes</code> property</li>
</ul>
<p>The <code>title</code> is meant for humans and therefore should clarify the rationale for
this hypothesis.</p>
<p>Each <a href="#probe">Probe</a> MUST define a <code>tolerance</code> property that acting as a gate
mechanism for the experiment to carry on or bail. Any <a href="#probe">Probe</a> that does not
fall into the <a href="#steady-state-probe-tolerance">tolerance</a> zone MUST fail the experiment.</p>
<h4 id="steady-state-probe-tolerance">Steady State Probe Tolerance<a class="headerlink" href="#steady-state-probe-tolerance" title="Permanent link">&para;</a></h4>
<p><a href="#probe">Probes</a> of the Steady State Hypothesis MUST declare an additional property
named <code>tolerance</code>.</p>
<p>The <code>tolerance</code> property&rsquo;s value MUST be one of:</p>
<ul>
<li>a scalar: JSON string, number (an integer), boolean</li>
<li>a sequence of two scalars defining a lower and upper bounds</li>
<li>a Probe object</li>
</ul>
<p>In the case of a scalar or the sequence, the tolerance validation MUST be
strict. The value returned by the <a href="#probe">Probe</a> MUST be checked against the
scalar value. The experiment MUST bail when both fail to match.</p>
<p>When the <code>tolerance</code> is a sequence of two scalars, the returned value from
the <a href="#probe">Probe</a> MUST fall within the boundaries they form.</p>
<p>In the case of a <a href="#probe">Probe</a> object, the tolerance validation is left
undefined as it is controlled by the <a href="#probe">Probe</a> itself. However, it is
RECOMMENDED that the <code>tolerance</code> <a href="#probe">Probe</a> acts strictly in order to improve
the readability of the experiment&rsquo;s results.</p>
<p>Some examples of <code>tolerance</code> properties.</p>
<p>A boolean tolerance:
<div class="codehilite"><pre><span></span><span class="s2">&quot;tolerance&quot;</span><span class="err">:</span> <span class="kc">true</span>
</pre></div></p>
<p>A integer tolerance:
<div class="codehilite"><pre><span></span><span class="s2">&quot;tolerance&quot;</span><span class="err">:</span> <span class="mi">8</span>
</pre></div></p>
<p>A string tolerance:
<div class="codehilite"><pre><span></span><span class="s2">&quot;tolerance&quot;</span><span class="err">:</span> <span class="s2">&quot;OK&quot;</span>
</pre></div></p>
<p>A sequence tolerance:
<div class="codehilite"><pre><span></span><span class="s2">&quot;tolerance&quot;</span><span class="err">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div></p>
<p>A <a href="#probe">Probe</a> tolerance:
<div class="codehilite"><pre><span></span><span class="s2">&quot;tolerance&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;probe&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;should-exist&quot;</span><span class="p">,</span>
    <span class="nt">&quot;provider&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;python&quot;</span><span class="p">,</span>
        <span class="nt">&quot;module&quot;</span><span class="p">:</span> <span class="s2">&quot;os.path&quot;</span><span class="p">,</span>
        <span class="nt">&quot;func&quot;</span><span class="p">:</span> <span class="s2">&quot;exists&quot;</span><span class="p">,</span>
        <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;some/file&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div></p>
<h3 id="method">Method<a class="headerlink" href="#method" title="Permanent link">&para;</a></h3>
<p>The Method describes the sequence of <a href="#probe">Probe</a> and <a href="#action">Action</a> elements
to apply. The Method is declared under <code>method</code> property at the top-level of the
experiment.</p>
<p>The <code>method</code> MUST have at least one element but this can be either a <a href="#probe">Probe</a>
or an <a href="#action">Action</a>.</p>
<p>The elements MUST be applied in the order they are declared.</p>
<h3 id="probe">Probe<a class="headerlink" href="#probe" title="Permanent link">&para;</a></h3>
<p>A Probe collects information from the system during the experiment.</p>
<p>A Probe is a JSON object. A Probe is declared fully or reference another Probe
through the <code>ref</code> property.</p>
<p>When declared fully, a Probe MUST declare:</p>
<ul>
<li>a <code>type</code> property</li>
<li>a <code>name</code> property</li>
<li>a <code>provider</code> property</li>
</ul>
<p>The <code>type</code> property MUST be the JSON string <code>&quot;probe&quot;</code>. </p>
<p>The <code>name</code> property is a free-form JSON string that MAY be considered as an
identifier withing the experiment.</p>
<p>It MAY also declare:</p>
<ul>
<li>a <code>secret</code> property</li>
<li>a <code>configuration</code> property</li>
<li>a <code>background</code> property</li>
</ul>
<p>The <code>secret</code> property MUST be a JSON string referencing an identifier declared
in the top-level <code>secrets</code> <a href="#secrets">property</a>. It is assumed that when not
declared, the Probe requires no secrets.</p>
<p>The <code>configuration</code> property MUST be a JSON string referencing an identifier
declared in the top-level <code>configuration</code> <a href="#configuration">property</a>. It is assumed that
when not declared, the Probe requires no configuration.</p>
<p>The <code>background</code> property MUST be a JSON boolean value either <code>true</code> or <code>false</code>.
It is assumed that, when that property is not declared, it is set to <code>false</code>.
When that property is set to <code>true</code> it indicates the Probe MUST not block
and the next Action or Probe should immediatly be applied.</p>
<p>When a Probe references another Probe in the Experiment, the Probe MUST
declare a single property called <code>ref</code>.</p>
<p>The <code>ref</code> property MUST be a JSON string which MUST be the name of a declared
Probe.</p>
<h3 id="action">Action<a class="headerlink" href="#action" title="Permanent link">&para;</a></h3>
<p>An Action performs an operation against the system.</p>
<p>An Action collects information from the system during the experiment.</p>
<p>An Action is a JSON object. An Action is declared fully or reference another
Action through the <code>ref</code> property.</p>
<p>When declared fully, a Action MUST declare:</p>
<ul>
<li>a <code>type</code> property</li>
<li>a <code>name</code> property</li>
<li>a <code>provider</code> property</li>
</ul>
<p>The <code>type</code> property MUST be the JSON string <code>&quot;action&quot;</code>. </p>
<p>The <code>name</code> property is a free-form JSON string that MAY be considered as an
identifier withing the experiment.</p>
<p>It MAY also declare:</p>
<ul>
<li>a <code>secret</code> property</li>
<li>a <code>configuration</code> property</li>
<li>a <code>background</code> property</li>
<li>a <code>pauses</code> property</li>
</ul>
<p>The <code>secret</code> property MUST be a JSON string referencing an identifier declared
in the top-level <code>secrets</code> <a href="#secrets">property</a>. It is assumed that when not
declared, the Action requires no secrets.</p>
<p>The <code>configuration</code> property MUST be a JSON string referencing an identifier
declared in the top-level <code>configuration</code> <a href="#configuration">property</a>. It is assumed that
when not declared, the Action requires no configuration.</p>
<p>The <code>background</code> property MUST be a JSON boolean value either <code>true</code> or <code>false</code>.
It is assumed that, when that property is not declared, it is set to <code>false</code>.
When that property is set to <code>true</code> it indicates the Action MUST not block
and the next Action or Probe should immediatly be applied.</p>
<p>The <code>pauses</code> property MUST be a JSON object which MAY have one or the two
following properties:</p>
<ul>
<li><code>before</code></li>
<li><code>after</code></li>
</ul>
<p>In both cases, the value MUST be JSON number indicating the number of seconds to
wait before continuining. The <code>before</code> pause MUST be performed before the Action
while the <code>after</code> MUST be performed afterwards.</p>
<p>When a Action references another Action in the Experiment, the Action MUST
declare a single property called <code>ref</code>.</p>
<p>The <code>ref</code> property MUST be a JSON string which MUST be the name of a declared
Action.</p>
<h3 id="action-or-probe-provider">Action or Probe Provider<a class="headerlink" href="#action-or-probe-provider" title="Permanent link">&para;</a></h3>
<p>A provider MUST be a JSON object which MUST declare a <code>type</code> property that
decides the other expected properties.</p>
<p>The <code>type</code> property MUST be one of <code>&quot;python&quot;</code>, <code>&quot;http&quot;</code> or <code>&quot;process&quot;</code>.</p>
<h4 id="python-provider">Python Provider<a class="headerlink" href="#python-provider" title="Permanent link">&para;</a></h4>
<p>A Python Provider declares a Python function to be applied.</p>
<p>A Python Provider MUST declare the following:</p>
<ul>
<li>a <code>module</code> property</li>
<li>a <code>func</code> property</li>
</ul>
<p>It SHOULD also declare an <code>arguments</code> property when the function expects them.</p>
<p>The <code>module</code> property is the fully qualified module exposing the function. It
MUST be a JSON string.</p>
<p>The <code>func</code> property is the name of the function to apply. It MUST be a JSON
string.</p>
<p>When provided, the <code>arguments</code> property MUST be a JSON object which
properties are the names of the <a href="https://docs.python.org/3/glossary.html#term-argument">function&rsquo;s arguments</a>. When a function&rsquo;s
signature has <a href="https://docs.python.org/3/reference/compound_stmts.html#function-definitions">default values</a> for some of its arguments, those MAY be
omitted from the <code>arguments</code> object. In that case, those default values will be
used.</p>
<p>Argument values MUST be valid JSON entities.</p>
<h4 id="http-provider">HTTP Provider<a class="headerlink" href="#http-provider" title="Permanent link">&para;</a></h4>
<p>A HTTP Provider declares a URL to be called.</p>
<p>A HTTP Provider MUST declare the following:</p>
<ul>
<li>a <code>url</code> property</li>
</ul>
<p>The <code>url</code> property MUST be a JSON string representing a URL as per
<a href="https://tools.ietf.org/html/rfc3986">RFC 3986</a>.</p>
<p>In addition, the <code>provider</code> object MAY declare any of the followings:</p>
<ul>
<li>a <code>method</code> property</li>
<li>a <code>headers</code> property</li>
<li>a <code>expected_status</code> property</li>
<li>a <code>arguments</code> property</li>
<li>a <code>timeout</code> property</li>
</ul>
<p>The <code>method</code> property MUST be a JSON string, such as <code>&quot;POST&quot;</code>, as per
<a href="https://www.w3.org/Protocols/rfc2616/">RFC 2616</a>. It defaults to <code>&quot;GET&quot;</code>.</p>
<p>The <code>headers</code> property MUST be a JSON object which properties are header names
and values are header values, as per <a href="https://www.w3.org/Protocols/rfc2616/">RFC 2616</a>.</p>
<p>The <code>expected_status</code> property MUST be a JSON number as per <a href="https://www.w3.org/Protocols/rfc2616/">RFC 2616</a>
definining the expected HTTP response status for the Probe or Action to be
considered failed or successful. It defaults to <code>200</code>.</p>
<p>When provided, the <code>arguments</code> property MUST be a JSON object which
properties are parameters of the HTTP request.</p>
<p>When <code>method</code> is <code>&quot;GET&quot;</code>, the <code>arguments</code> are mapped as a query-string of the
URL. Otherwise, the <code>arguments</code> are passed as the request body&rsquo;s data and the
encoding depends on the <code>&quot;Content-Type&quot;</code> provided in the <code>headers</code> object.</p>
<p>The <code>timeout</code> property MUST be a JSON number specifying how long the request
should take to complete.</p>
<h4 id="process-provider">Process Provider<a class="headerlink" href="#process-provider" title="Permanent link">&para;</a></h4>
<p>A Process Provider declares a process to be called.</p>
<p>A Process Provider MUST declare the following:</p>
<ul>
<li>a <code>path</code> property</li>
</ul>
<p>The <code>path</code> property MUST be a JSON string of a path to an executable.</p>
<p>In addition, the <code>provider</code> object MAY declare any of the followings:</p>
<ul>
<li>a <code>arguments</code> property</li>
<li>a <code>timeout</code> property</li>
</ul>
<p>The <code>arguments</code> property MUST be a JSON array which defines the process
arguments. Those arguments are passed in order to the process arguments.</p>
<p>The <code>timeout</code> property MUST be a JSON number specifying how long the process
should take to complete.</p>
<h3 id="rollbacks">Rollbacks<a class="headerlink" href="#rollbacks" title="Permanent link">&para;</a></h3>
<p>Rollbacks declare the sequence of actions that attempt to put the system back
to its initial state.</p>
<p>The experiment MAY declare a single <code>rollbacks</code> property which is a JSON array
consisting of <a href="#action">Actions</a>.</p>
<p>A failed rollback MUST not bail the sequence of rollbacks.</p>
<h3 id="secrets">Secrets<a class="headerlink" href="#secrets" title="Permanent link">&para;</a></h3>
<p>Secrets declare values that need to be passed on to <a href="#action">Actions</a> or
<a href="#probe">Probes</a> in a secure manner.</p>
<p>The <code>secrets</code> property MUST be a JSON object. Its properties are identifiers
referenced by <a href="#action">Actions</a> and <a href="#probe">Probes</a>.</p>
<p>The value of each identifier is a JSON object which properties are the secrets
keys and the properties values are the secrets values.</p>
<p>Referenced secrets MUST be injected into probes and actions when they are
applied. Probes and actions MUST NOT modify the secrets.</p>
<p>Secrets MUST be passed a mapping of keys and values to probes and actions.</p>
<p>An example of a <code>secrets</code> element at the top-level:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;secrets&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;kubernetes&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;token&quot;</span><span class="p">:</span> <span class="s2">&quot;XYZ&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>This can then referenced from probes or actions:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;probe&quot;</span><span class="p">,</span>
    <span class="nt">&quot;secrets&quot;</span><span class="p">:</span> <span class="s2">&quot;kubernetes&quot;</span>
<span class="p">}</span>
</pre></div>

<h4 id="inline-secrets">Inline Secrets<a class="headerlink" href="#inline-secrets" title="Permanent link">&para;</a></h4>
<p>Secrets MAY be inlined in the <a href="#experiment">Experiment</a> directly.</p>
<h4 id="environment-secrets">Environment Secrets<a class="headerlink" href="#environment-secrets" title="Permanent link">&para;</a></h4>
<p>Secrets MAY be retrieved from the environment. In that case, they must be
declared as a JSON object with a <code>type</code> property set to <code>&quot;env&quot;</code>. The
environment variable MUST be declared in the <code>key</code> property as a JSON string.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;secrets&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;kubernetes&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;token&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;env&quot;</span><span class="p">,</span>
                <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;KUBERNETES_TOKEN&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h4 id="vault-secrets">Vault Secrets<a class="headerlink" href="#vault-secrets" title="Permanent link">&para;</a></h4>
<p>Secrets MAY be retrieved from a <a href="https://www.vaultproject.io/">HashiCorp vault instance</a>. In that case,
they must be declared as a JSON object with a <code>type</code> property set to <code>&quot;vault&quot;</code>.
The path to the key MUST be declared in the <code>key</code> property as a JSON
string.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;secrets&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;myapp&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;token&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;vault&quot;</span><span class="p">,</span>
                <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;secrets/something&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<p>Configuration is meant to provide runtime values to <a href="#action">actions</a> and
<a href="#probe">probes</a>.</p>
<p>The <code>configuration</code> element MUST be a JSON object. The value of each property
MUST be a JSON string or object which properties are considered the
configuration lookup. Configuration must be passed to all Probes and actions
requring it. Probes and actions MUST NOT modify the configuration.</p>
<p>Configurations MUST be passed a mapping of keys and values to probes and
actions.</p>
<p>An example of a <code>configuration</code> element at the top-level:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;configuration&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;some_service&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8080&quot;</span><span class="p">,</span>
        <span class="nt">&quot;vault_addr&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;env&quot;</span><span class="p">,</span>
            <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;VAULT_ADDR&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h4 id="inline-configurations">Inline Configurations<a class="headerlink" href="#inline-configurations" title="Permanent link">&para;</a></h4>
<p>Configurations MAY be inlined in the <a href="#experiment">Experiment</a> directly.</p>
<h4 id="environment-configurations">Environment Configurations<a class="headerlink" href="#environment-configurations" title="Permanent link">&para;</a></h4>
<p>Configurations MAY be retrieved from the environment. In that case, they must be
declared as a JSON object with a <code>type</code> property set to <code>&quot;env&quot;</code>. The
environment variable MUST be declared in the <code>key</code> property as a JSON string.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;configuration&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;vault_address&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;env&quot;</span><span class="p">,</span>
            <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;VAULT_ADDR&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h3 id="variable-substitution">Variable Substitution<a class="headerlink" href="#variable-substitution" title="Permanent link">&para;</a></h3>
<p>Probes and Actions argument values MAY be dynamically resolved at runtime. </p>
<p>Dynamic values MUST follow the syntax <code>${name}</code> where <code>name</code> is an identifier
declared in either the Configuration or Secrets sections. When <code>name</code> is
declared in both sections, the Configuration section MUST take precedence.</p>
<p>Dynamic values MUST be substituted before being passed to Probes or Actions.</p>
<p>Other values, such as the HTTP Probe url, MAY be sustituted as well.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>The following examples MUST NOT be considered normatives.</p>
<h3 id="minimal-experiment">Minimal Experiment<a class="headerlink" href="#minimal-experiment" title="Permanent link">&para;</a></h3>
<p>Here is an example of the most minimal experiment:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Moving a file from under our feet is forgivable&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Our application should re-create a file that was removed&quot;</span><span class="p">,</span>
    <span class="nt">&quot;steady-state-hypothesis&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;The file must be around first&quot;</span><span class="p">,</span>
        <span class="nt">&quot;probes&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;python&quot;</span><span class="p">,</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;file-must-exist&quot;</span><span class="p">,</span>
                <span class="nt">&quot;tolerance&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;provider&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;module&quot;</span><span class="p">:</span> <span class="s2">&quot;os.path&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;func&quot;</span><span class="p">:</span> <span class="s2">&quot;exists&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;some/file&quot;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;action&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;file-be-gone&quot;</span><span class="p">,</span>
            <span class="nt">&quot;provider&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;module&quot;</span><span class="p">:</span> <span class="s2">&quot;os.path&quot;</span><span class="p">,</span>
                <span class="nt">&quot;func&quot;</span><span class="p">:</span> <span class="s2">&quot;remove&quot;</span><span class="p">,</span>
                <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;some/file&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;pauses&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;after&quot;</span><span class="p">:</span> <span class="mi">5</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;ref&quot;</span><span class="p">:</span> <span class="s2">&quot;file-must-exist&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../usage/investigating/" title="Investigating" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Investigating
              </span>
            </div>
          </a>
        
        
          <a href="../journal/" title="Journal" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Journal
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; 2017 chaostoolkit team
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/chaostoolkit" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/chaostoolkit" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://join.chaostoolkit.org/" class="md-footer-social__link fa fa-slack"></a>
    
      <a href="https://medium.com/chaos-toolkit" class="md-footer-social__link fa fa-medium"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.abd7b172.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../../.."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-107338053-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>